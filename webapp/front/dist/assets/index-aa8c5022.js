import{r as m,a as vt,j as d,b as T,c as Nt,F as Ae,u as D,s as zt,d as yt,e as Bt,f as Vt,g as Ut,h as Ie,i as $t,k as Ht,l as Kt,m as Wt,n as Gt,o as Yt,p as Jt,q as qt,t as Zt,v as Qt,w as Xt,x as er,y as tr,z as rr,A as nr,B as or}from"./index-0222bd03.js";import{I as ir,B as Re,L as Z,h as nt,a as ar,i as sr,u as $e,C as cr,H as lr}from"./index-35888618.js";import{p as h,M as ur,a as fr,T as De,b as pr,F as dr,c as mr,d as gr,v as hr,B as N,i as vr,C as yr,g as br,e as wr,O as me,S as Ar,V as Dr,f as xr,h as Er,j as Le}from"./index-97dac3a8.js";function Q(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function c(g){try{l(n.next(g))}catch(b){a(b)}}function f(g){try{l(n.throw(g))}catch(b){a(b)}}function l(g){g.done?o(g.value):i(g.value).then(c,f)}l((n=n.apply(e,t||[])).next())})}function X(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(l){return function(g){return f([l,g])}}function f(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(g){l=[6,g],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function ot(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function it(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Fr=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function ae(e,t){var r=Cr(e);if(typeof r.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(r,"path",{value:typeof t=="string"?t:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}function Cr(e){var t=e.name,r=t&&t.lastIndexOf(".")!==-1;if(r&&!e.type){var n=t.split(".").pop().toLowerCase(),i=Fr.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}var Or=[".DS_Store","Thumbs.db"];function Sr(e){return Q(this,void 0,void 0,function(){return X(this,function(t){return ye(e)&&Tr(e.dataTransfer)?[2,Pr(e.dataTransfer,e.type)]:_r(e)?[2,kr(e)]:Array.isArray(e)&&e.every(function(r){return"getFile"in r&&typeof r.getFile=="function"})?[2,jr(e)]:[2,[]]})})}function Tr(e){return ye(e)}function _r(e){return ye(e)&&ye(e.target)}function ye(e){return typeof e=="object"&&e!==null}function kr(e){return Ne(e.target.files).map(function(t){return ae(t)})}function jr(e){return Q(this,void 0,void 0,function(){var t;return X(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return t=r.sent(),[2,t.map(function(n){return ae(n)})]}})})}function Pr(e,t){return Q(this,void 0,void 0,function(){var r,n;return X(this,function(i){switch(i.label){case 0:return e.items?(r=Ne(e.items).filter(function(o){return o.kind==="file"}),t!=="drop"?[2,r]:[4,Promise.all(r.map(Ir))]):[3,2];case 1:return n=i.sent(),[2,at(bt(n))];case 2:return[2,at(Ne(e.files).map(function(o){return ae(o)}))]}})})}function at(e){return e.filter(function(t){return Or.indexOf(t.name)===-1})}function Ne(e){if(e===null)return[];for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n)}return t}function Ir(e){if(typeof e.webkitGetAsEntry!="function")return st(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?wt(t):st(e)}function bt(e){return e.reduce(function(t,r){return it(it([],ot(t),!1),ot(Array.isArray(r)?bt(r):[r]),!1)},[])}function st(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var r=ae(t);return Promise.resolve(r)}function Rr(e){return Q(this,void 0,void 0,function(){return X(this,function(t){return[2,e.isDirectory?wt(e):Lr(e)]})})}function wt(e){var t=e.createReader();return new Promise(function(r,n){var i=[];function o(){var a=this;t.readEntries(function(c){return Q(a,void 0,void 0,function(){var f,l,g;return X(this,function(b){switch(b.label){case 0:if(c.length)return[3,5];b.label=1;case 1:return b.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return f=b.sent(),r(f),[3,4];case 3:return l=b.sent(),n(l),[3,4];case 4:return[3,6];case 5:g=Promise.all(c.map(Rr)),i.push(g),o(),b.label=6;case 6:return[2]}})})},function(c){n(c)})}o()})}function Lr(e){return Q(this,void 0,void 0,function(){return X(this,function(t){return[2,new Promise(function(r,n){e.file(function(i){var o=ae(i,e.fullPath);r(o)},function(i){n(i)})})]})})}var Mr=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),n=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return r.some(function(a){var c=a.trim().toLowerCase();return c.charAt(0)==="."?n.toLowerCase().endsWith(c):c.endsWith("/*")?o===c.replace(/\/.*$/,""):i===c})}return!0};function ct(e){return Br(e)||zr(e)||Dt(e)||Nr()}function Nr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Br(e){if(Array.isArray(e))return ze(e)}function lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lt(Object(r),!0).forEach(function(n){At(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function At(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ie(e,t){return $r(e)||Ur(e,t)||Dt(e,t)||Vr()}function Vr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dt(e,t){if(e){if(typeof e=="string")return ze(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ze(e,t)}}function ze(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ur(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,c;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(f){o=!0,c=f}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw c}}return n}}function $r(e){if(Array.isArray(e))return e}var Hr="file-invalid-type",Kr="file-too-large",Wr="file-too-small",Gr="too-many-files",Yr=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var r=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:Hr,message:"File type must be ".concat(r)}},ft=function(t){return{code:Kr,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},pt=function(t){return{code:Wr,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Jr={code:Gr,message:"Too many files"};function xt(e,t){var r=e.type==="application/x-moz-file"||Mr(e,t);return[r,r?null:Yr(t)]}function Et(e,t,r){if(U(e.size))if(U(t)&&U(r)){if(e.size>r)return[!1,ft(r)];if(e.size<t)return[!1,pt(t)]}else{if(U(t)&&e.size<t)return[!1,pt(t)];if(U(r)&&e.size>r)return[!1,ft(r)]}return[!0,null]}function U(e){return e!=null}function qr(e){var t=e.files,r=e.accept,n=e.minSize,i=e.maxSize,o=e.multiple,a=e.maxFiles,c=e.validator;return!o&&t.length>1||o&&a>=1&&t.length>a?!1:t.every(function(f){var l=xt(f,r),g=ie(l,1),b=g[0],v=Et(f,n,i),P=ie(v,1),p=P[0],F=c?c(f):null;return b&&p&&!F})}function be(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function ge(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function dt(e){e.preventDefault()}function Zr(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Qr(e){return e.indexOf("Edge/")!==-1}function Xr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Zr(e)||Qr(e)}function L(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return t.some(function(c){return!be(n)&&c&&c.apply(void 0,[n].concat(o)),be(n)})}}function en(){return"showOpenFilePicker"in window}function tn(e){if(U(e)){var t=Object.entries(e).filter(function(r){var n=ie(r,2),i=n[0],o=n[1],a=!0;return Ft(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(o)||!o.every(Ct))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(r,n){var i=ie(n,2),o=i[0],a=i[1];return ut(ut({},r),{},At({},o,a))},{});return[{description:"Files",accept:t}]}return e}function rn(e){if(U(e))return Object.entries(e).reduce(function(t,r){var n=ie(r,2),i=n[0],o=n[1];return[].concat(ct(t),[i],ct(o))},[]).filter(function(t){return Ft(t)||Ct(t)}).join(",")}function nn(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function on(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Ft(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function Ct(e){return/^.*\.[\w]+$/.test(e)}var an=["children"],sn=["open"],cn=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ln=["refKey","onChange","onClick"];function un(e){return dn(e)||pn(e)||Ot(e)||fn()}function fn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dn(e){if(Array.isArray(e))return Be(e)}function Me(e,t){return hn(e)||gn(e,t)||Ot(e,t)||mn()}function mn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ot(e,t){if(e){if(typeof e=="string")return Be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Be(e,t)}}function Be(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gn(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,c;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(f){o=!0,c=f}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw c}}return n}}function hn(e){if(Array.isArray(e))return e}function mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mt(Object(r),!0).forEach(function(n){Ve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function we(e,t){if(e==null)return{};var r=vn(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vn(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var xe=m.forwardRef(function(e,t){var r=e.children,n=we(e,an),i=bn(n),o=i.open,a=we(i,sn);return m.useImperativeHandle(t,function(){return{open:o}},[o]),vt.createElement(m.Fragment,null,r(y(y({},a),{},{open:o})))});xe.displayName="Dropzone";var St={disabled:!1,getFilesFromEvent:Sr,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};xe.defaultProps=St;xe.propTypes={children:h.func,accept:h.objectOf(h.arrayOf(h.string)),multiple:h.bool,preventDropOnDocument:h.bool,noClick:h.bool,noKeyboard:h.bool,noDrag:h.bool,noDragEventsBubbling:h.bool,minSize:h.number,maxSize:h.number,maxFiles:h.number,disabled:h.bool,getFilesFromEvent:h.func,onFileDialogCancel:h.func,onFileDialogOpen:h.func,useFsAccessApi:h.bool,autoFocus:h.bool,onDragEnter:h.func,onDragLeave:h.func,onDragOver:h.func,onDrop:h.func,onDropAccepted:h.func,onDropRejected:h.func,onError:h.func,validator:h.func};const yn=xe;var Ue={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function bn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=y(y({},St),e),r=t.accept,n=t.disabled,i=t.getFilesFromEvent,o=t.maxSize,a=t.minSize,c=t.multiple,f=t.maxFiles,l=t.onDragEnter,g=t.onDragLeave,b=t.onDragOver,v=t.onDrop,P=t.onDropAccepted,p=t.onDropRejected,F=t.onFileDialogCancel,z=t.onFileDialogOpen,I=t.useFsAccessApi,$=t.autoFocus,B=t.preventDropOnDocument,H=t.noClick,K=t.noKeyboard,ee=t.noDrag,R=t.noDragEventsBubbling,A=t.onError,C=t.validator,te=m.useMemo(function(){return rn(r)},[r]),Ke=m.useMemo(function(){return tn(r)},[r]),Ee=m.useMemo(function(){return typeof z=="function"?z:gt},[z]),se=m.useMemo(function(){return typeof F=="function"?F:gt},[F]),O=m.useRef(null),j=m.useRef(null),jt=m.useReducer(wn,Ue),We=Me(jt,2),Fe=We[0],_=We[1],Pt=Fe.isFocused,Ge=Fe.isFileDialogActive,ce=m.useRef(typeof window<"u"&&window.isSecureContext&&I&&en()),Ye=function(){!ce.current&&Ge&&setTimeout(function(){if(j.current){var u=j.current.files;u.length||(_({type:"closeDialog"}),se())}},300)};m.useEffect(function(){return window.addEventListener("focus",Ye,!1),function(){window.removeEventListener("focus",Ye,!1)}},[j,Ge,se,ce]);var W=m.useRef([]),Je=function(u){O.current&&O.current.contains(u.target)||(u.preventDefault(),W.current=[])};m.useEffect(function(){return B&&(document.addEventListener("dragover",dt,!1),document.addEventListener("drop",Je,!1)),function(){B&&(document.removeEventListener("dragover",dt),document.removeEventListener("drop",Je))}},[O,B]),m.useEffect(function(){return!n&&$&&O.current&&O.current.focus(),function(){}},[O,$,n]);var V=m.useCallback(function(s){A?A(s):console.error(s)},[A]),qe=m.useCallback(function(s){s.preventDefault(),s.persist(),pe(s),W.current=[].concat(un(W.current),[s.target]),ge(s)&&Promise.resolve(i(s)).then(function(u){if(!(be(s)&&!R)){var w=u.length,x=w>0&&qr({files:u,accept:te,minSize:a,maxSize:o,multiple:c,maxFiles:f,validator:C}),k=w>0&&!x;_({isDragAccept:x,isDragReject:k,isDragActive:!0,type:"setDraggedFiles"}),l&&l(s)}}).catch(function(u){return V(u)})},[i,l,V,R,te,a,o,c,f,C]),Ze=m.useCallback(function(s){s.preventDefault(),s.persist(),pe(s);var u=ge(s);if(u&&s.dataTransfer)try{s.dataTransfer.dropEffect="copy"}catch{}return u&&b&&b(s),!1},[b,R]),Qe=m.useCallback(function(s){s.preventDefault(),s.persist(),pe(s);var u=W.current.filter(function(x){return O.current&&O.current.contains(x)}),w=u.indexOf(s.target);w!==-1&&u.splice(w,1),W.current=u,!(u.length>0)&&(_({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ge(s)&&g&&g(s))},[O,g,R]),le=m.useCallback(function(s,u){var w=[],x=[];s.forEach(function(k){var re=xt(k,te),J=Me(re,2),Oe=J[0],Se=J[1],Te=Et(k,a,o),de=Me(Te,2),_e=de[0],ke=de[1],je=C?C(k):null;if(Oe&&_e&&!je)w.push(k);else{var Pe=[Se,ke];je&&(Pe=Pe.concat(je)),x.push({file:k,errors:Pe.filter(function(Mt){return Mt})})}}),(!c&&w.length>1||c&&f>=1&&w.length>f)&&(w.forEach(function(k){x.push({file:k,errors:[Jr]})}),w.splice(0)),_({acceptedFiles:w,fileRejections:x,type:"setFiles"}),v&&v(w,x,u),x.length>0&&p&&p(x,u),w.length>0&&P&&P(w,u)},[_,c,te,a,o,f,v,P,p,C]),ue=m.useCallback(function(s){s.preventDefault(),s.persist(),pe(s),W.current=[],ge(s)&&Promise.resolve(i(s)).then(function(u){be(s)&&!R||le(u,s)}).catch(function(u){return V(u)}),_({type:"reset"})},[i,le,V,R]),G=m.useCallback(function(){if(ce.current){_({type:"openDialog"}),Ee();var s={multiple:c,types:Ke};window.showOpenFilePicker(s).then(function(u){return i(u)}).then(function(u){le(u,null),_({type:"closeDialog"})}).catch(function(u){nn(u)?(se(u),_({type:"closeDialog"})):on(u)?(ce.current=!1,j.current?(j.current.value=null,j.current.click()):V(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):V(u)});return}j.current&&(_({type:"openDialog"}),Ee(),j.current.value=null,j.current.click())},[_,Ee,se,I,le,V,Ke,c]),Xe=m.useCallback(function(s){!O.current||!O.current.isEqualNode(s.target)||(s.key===" "||s.key==="Enter"||s.keyCode===32||s.keyCode===13)&&(s.preventDefault(),G())},[O,G]),et=m.useCallback(function(){_({type:"focus"})},[]),tt=m.useCallback(function(){_({type:"blur"})},[]),rt=m.useCallback(function(){H||(Xr()?setTimeout(G,0):G())},[H,G]),Y=function(u){return n?null:u},Ce=function(u){return K?null:Y(u)},fe=function(u){return ee?null:Y(u)},pe=function(u){R&&u.stopPropagation()},It=m.useMemo(function(){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=s.refKey,w=u===void 0?"ref":u,x=s.role,k=s.onKeyDown,re=s.onFocus,J=s.onBlur,Oe=s.onClick,Se=s.onDragEnter,Te=s.onDragOver,de=s.onDragLeave,_e=s.onDrop,ke=we(s,cn);return y(y(Ve({onKeyDown:Ce(L(k,Xe)),onFocus:Ce(L(re,et)),onBlur:Ce(L(J,tt)),onClick:Y(L(Oe,rt)),onDragEnter:fe(L(Se,qe)),onDragOver:fe(L(Te,Ze)),onDragLeave:fe(L(de,Qe)),onDrop:fe(L(_e,ue)),role:typeof x=="string"&&x!==""?x:"presentation"},w,O),!n&&!K?{tabIndex:0}:{}),ke)}},[O,Xe,et,tt,rt,qe,Ze,Qe,ue,K,ee,n]),Rt=m.useCallback(function(s){s.stopPropagation()},[]),Lt=m.useMemo(function(){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=s.refKey,w=u===void 0?"ref":u,x=s.onChange,k=s.onClick,re=we(s,ln),J=Ve({accept:te,multiple:c,type:"file",style:{display:"none"},onChange:Y(L(x,ue)),onClick:Y(L(k,Rt)),tabIndex:-1},w,j);return y(y({},J),re)}},[j,r,c,ue,n]);return y(y({},Fe),{},{isFocused:Pt&&!n,getRootProps:It,getInputProps:Lt,rootRef:O,inputRef:j,open:Y(G)})}function wn(e,t){switch(t.type){case"focus":return y(y({},e),{},{isFocused:!0});case"blur":return y(y({},e),{},{isFocused:!1});case"openDialog":return y(y({},Ue),{},{isFileDialogActive:!0});case"closeDialog":return y(y({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return y(y({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return y(y({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return y({},Ue);default:return e}}function gt(){}const An="/assets/upload-7f04148e.svg",Dn=({className:e,onDrop:t})=>d(yn,{onDrop:t,children:({getRootProps:r,getInputProps:n})=>d("section",{children:T("div",{...r(),children:[d("input",{...n()}),d("div",{className:Nt("bg-primary-20/50 border-primary-40 grid cursor-pointer place-items-center border-2 border-dashed",e),children:d(ir,{src:An,alt:"upload",size:"sm"})})]})})}),xn="/assets/new-creative-20843da7.svg",En=({className:e,children:t,onClick:r,isOpen:n,onClose:i,onCreate:o})=>{const[a,c]=m.useState(null),[f,l]=m.useState(""),g=p=>l(p.target.value),b=p=>{c(p[0])},v=p=>{c(null),i(p)},P=p=>{a&&(o(a,f),v(p))};return T(Ae,{children:[d(Re,{className:e,color:"secondary",onClick:r,children:t}),T(ur,{className:"h-[500px]",isOpen:n,onClose:v,children:[d(fr,{className:"h-14",children:d(De,{src:xn,alt:"new creative"})}),d(pr,{children:T("div",{className:"flex flex-col gap-4",children:[a===null?d(dr,{label:"Upload Creative",children:d(Dn,{className:"h-[240px]",onDrop:b})}):d("div",{className:"h-[240px]",children:d("img",{className:"h-full w-full object-contain",src:window.URL.createObjectURL(a),alt:"preview"})}),d(mr,{label:"Link",placeholder:"Please enter link URL here",value:f,onChange:g})]})}),T(gr,{children:[d(Re,{color:"neutral",onClick:v,children:"CANCEL"}),d(Re,{color:"secondary",onClick:P,children:"CREATE"})]})]})]})},S=new Z(hr),ne={},Tt=N.from(0),_t=N.from(-1);function kt(e,t,r,n){const i={fault:t,operation:r};return n!==void 0&&(i.value=n),S.throwError(e,Z.errors.NUMERIC_FAULT,i)}let oe="0";for(;oe.length<256;)oe+=oe;function He(e){if(typeof e!="number")try{e=N.from(e).toNumber()}catch{}return typeof e=="number"&&e>=0&&e<=256&&!(e%1)?"1"+oe.substring(0,e):S.throwArgumentError("invalid decimal size","decimals",e)}function ve(e,t){t==null&&(t=0);const r=He(t);e=N.from(e);const n=e.lt(Tt);n&&(e=e.mul(_t));let i=e.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=e.div(r).toString();return r.length===1?e=o:e=o+"."+i,n&&(e="-"+e),e}function M(e,t){t==null&&(t=0);const r=He(t);(typeof e!="string"||!e.match(/^-?[0-9.]+$/))&&S.throwArgumentError("invalid decimal value","value",e);const n=e.substring(0,1)==="-";n&&(e=e.substring(1)),e==="."&&S.throwArgumentError("missing value","value",e);const i=e.split(".");i.length>2&&S.throwArgumentError("too many decimal points","value",e);let o=i[0],a=i[1];for(o||(o="0"),a||(a="0");a[a.length-1]==="0";)a=a.substring(0,a.length-1);for(a.length>r.length-1&&kt("fractional component exceeds decimals","underflow","parseFixed"),a===""&&(a="0");a.length<r.length-1;)a+="0";const c=N.from(o),f=N.from(a);let l=c.mul(r).add(f);return n&&(l=l.mul(_t)),l}class q{constructor(t,r,n,i){t!==ne&&S.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Z.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=He(i),Object.freeze(this)}static from(t){if(t instanceof q)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,n=128,i=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const o=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||S.throwArgumentError("invalid fixed format","format",t),r=o[1]!=="u",n=parseInt(o[2]),i=parseInt(o[3])}}else if(t){const o=(a,c,f)=>t[a]==null?f:(typeof t[a]!==c&&S.throwArgumentError("invalid fixed format ("+a+" not "+c+")","format."+a,t[a]),t[a]);r=o("signed","boolean",r),n=o("width","number",n),i=o("decimals","number",i)}return n%8&&S.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&S.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new q(ne,r,n,i)}}class E{constructor(t,r,n,i){t!==ne&&S.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Z.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&S.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=M(this._value,this.format.decimals),n=M(t._value,t.format.decimals);return E.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=M(this._value,this.format.decimals),n=M(t._value,t.format.decimals);return E.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=M(this._value,this.format.decimals),n=M(t._value,t.format.decimals);return E.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=M(this._value,this.format.decimals),n=M(t._value,t.format.decimals);return E.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=E.from(t[0],this.format);const n=!t[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(ht.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=E.from(t[0],this.format);const n=!t[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(ht.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&S.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const n=E.from("1"+oe.substring(0,t),this.format),i=Fn.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&S.throwArgumentError("invalid byte width","width",t);const r=N.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return nt(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return E.fromString(this._value,t)}static fromValue(t,r,n){return n==null&&r!=null&&!vr(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),E.fromString(ve(t,r),q.from(n))}static fromString(t,r){r==null&&(r="fixed");const n=q.from(r),i=M(t,n.decimals);!n.signed&&i.lt(Tt)&&kt("unsigned value cannot be negative","overflow","value",t);let o=null;n.signed?o=i.toTwos(n.width).toHexString():(o=i.toHexString(),o=nt(o,n.width/8));const a=ve(i,n.decimals);return new E(ne,o,a,n)}static fromBytes(t,r){r==null&&(r="fixed");const n=q.from(r);if(ar(t).length>n.width/8)throw new Error("overflow");let i=N.from(t);n.signed&&(i=i.fromTwos(n.width));const o=i.toTwos((n.signed?0:1)+n.width).toHexString(),a=ve(i,n.decimals);return new E(ne,o,a,n)}static from(t,r){if(typeof t=="string")return E.fromString(t,r);if(sr(t))return E.fromBytes(t,r);try{return E.fromValue(t,0,r)}catch(n){if(n.code!==Z.errors.INVALID_ARGUMENT)throw n}return S.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}}const ht=E.from(1),Fn=E.from("0.5"),Cn="units/5.7.0";new Z(Cn);const On=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Sn(e,t){if(typeof t=="string"){const r=On.indexOf(t);r!==-1&&(t=3*r)}return ve(e,t??18)}function he(e){return Sn(e,18)}const Tn="/assets/my-creatives-5ced28c6.svg",_n=()=>{const e=D(p=>p.app.ADsGTVP),[t,r]=m.useState(!1),n=()=>r(!0),i=()=>r(!1),o=D(p=>p.app.address),a=D(p=>p.app.advertiserList),c=D(p=>p.app.contractAdvertiserList),f=D(p=>p.app.daoContract),l=D(p=>p.app.isAdvertiser),g=D(p=>p.app.endDate),b=$e(),v=async(p,F)=>{const z=Math.floor(new Date().getTime()/1e3)+g*60;try{const I=new FileReader;I.onload=async function(){const H=this.result;await fetch("/api/creatives",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.length+1,wallet_address:o,link:F,img:H})})},I.readAsDataURL(p);const $=await br();await(await wr(f).createContent(l,z,F,{gasLimit:5e6,gasPrice:$})).wait(),yt(!1),alert("Create Successfully")}catch(I){console.log("Err: ",I)}},P=p=>p===1?"passed":p===2?"rejected":"process";return m.useEffect(()=>{fetch("/api/creatives").then(p=>{p.text().then(F=>b(zt(JSON.parse(F))))}).catch(()=>alert("something went wrong"))},[]),T(Ae,{children:[T("div",{className:"flex justify-between",children:[d(De,{className:"my-8",src:Tn,alt:"my creative"}),d("div",{className:"flex items-center",children:d(En,{onClick:n,isOpen:t,onClose:i,onCreate:v,children:"NEW CREATIVE"})})]}),d("div",{className:"flex flex-col gap-12",children:c.map((p,F)=>d(yr,{id:p.id,createdAt:p.createdAt,expires:p.endAt,link:"https://example.com",image:a[F].img,status:P(a[F].status),ok:p.agreeVoteAmount,ng:p.disagreeVoteAmount,maxVp:e},p.id))})]})},kn="/assets/ads-2c3ea67a.svg",jn="/assets/advertiser-overview-c3c8352a.svg",Pn=()=>{const e=D(f=>f.app.ADsGTVP),t=D(f=>f.app.rewardADsAmount),r=m.useMemo(()=>t.toLocaleString(),[t]),n=D(f=>f.app.stakingADsTokenBalance),i=m.useMemo(()=>n.toLocaleString(),[n]),o=f=>{alert(`stake: ${f}`)},a=D(f=>f.app.ADsGTVP),c=D(f=>f.app.AdsGTVPTime);return T(Ae,{children:[d(De,{className:"my-8",src:jn,alt:"advertiser overview"}),T("div",{className:"flex gap-12",children:[d(me,{className:"h-48 flex-1",title:"ADsGT",icon:kn,children:d("p",{className:"text-48-bold text-neutral-10",children:r})}),d(me,{className:"h-48 flex-1",type:"advertiser",title:"Staked ADsGT",icon:Ar,onStake:o,maxVp:e,children:d("p",{className:"text-48-bold text-neutral-10",children:i})}),d(me,{className:"h-48 flex-1",title:"Voting Power (AD)",icon:Dr,children:T("div",{children:[d("p",{className:"text-48-bold text-neutral-10 inline",children:`${a}`}),d("p",{className:"text-28-semi text-neutral-40 inline",children:" / 100 VP"})]})}),d(me,{className:"h-48 flex-1",title:"VP Regen Speed",icon:xr,children:T("div",{children:[d("p",{className:"text-48-bold text-neutral-10 inline",children:`${c}`}),d("p",{className:"text-28-semi text-neutral-40 inline",children:" VP / day"})]})})]})]})},In="/assets/voting-list-of-sites-0a89dd8d.svg",Rn=()=>{const e=D(o=>o.app.ADsGTVP),t=D(o=>o.app.siteList),r=D(o=>o.app.contractSiteList),n=o=>o===1?"passed":o===2?"rejected":"process",i=$e();return vt.useEffect(()=>{fetch("/api/sites").then(o=>{o.text().then(a=>i(Bt(JSON.parse(a))))}).catch(o=>{console.error(o),alert("something went wrong")})},[]),console.log(r),console.log(t),console.log(r.length&&r[0].id.toNumber()),T(Ae,{children:[d(De,{className:"my-8",src:In,alt:"voting list of sites"}),d("div",{className:"flex flex-col gap-12",children:r.map((o,a)=>d(Er,{id:o.id!==void 0?o.id.toNumber().toString():o.id,url:t.length>a?t[a].url:"",createdAt:new Date,status:t.length>a?n(t[a].status):"process",expires:new Date,ok:o.agreeVoteAmount!==void 0?o.agreeVoteAmount.toNumber():0,ng:o.rejectVoteAmount!==void 0?o.rejectVoteAmount.toNumber():0,maxVp:e},o.id!==void 0?o.id.toNumber():o.id))})]})},Ln="0xCEdc57A73EFC5a9B599340f348D3Ccc44e225018",Mn="0xE83aea3CcE8d3C479CEebbF0e10DD2F39F10F0d0",Nn="0x439e963F9149413fBB6a8F9594C5dEDE2f25cD2b",zn="0x01385B66cfc7E4B0657812cED9023D5692608956",Bn="0x13A473946654605C0ecb48c1BB0C6facED43bF75",Vn="0x81d33b63457C311F33241b1e9A40d3DA46237478",Kn=()=>{const e=D(a=>a.app.address),t=D(a=>a.app.isStaking),r=D(a=>a.app.isCreate),n=$e(),i=Vt(),o=()=>{i("/welcome"),n(Ut(!0)),n(Ie(!1)),n(yt(!1)),n($t(!1)),n(Ht(""))};return m.useEffect(()=>{const a=async()=>{if(e)try{Vn.toLowerCase()==e.toLowerCase()?n(Ie(!0)):n(Ie(!1));const f=Le(Ln,"token");n(Kt(f));const l=await f.balanceOf(e);n(Wt(he(l)));const g=Le(Mn,"token");n(Gt(g));const b=await g.balanceOf(e);n(Yt(he(b)));const v=Le(Bn,"dao");n(Jt(v));const P=await v.getContentsLength();let p=[],F=[];for(let A=0;A<P;A++){const C=await v.contents(A);C[2]?p.push(C):F.push(C)}n(qt(p)),n(Zt(F));const z=await v.getRewardsTypesLength();let I=[];for(let A=0;A<z;A++){const C=await v.rewardsTypes(A);I.push(C)}n(Qt(I));const $=await v.getWithdrawFeesLength();let B=[];for(let A=0;A<$;A++){const C=await v.withdawFees(A);B.push(C)}n(Xt(B));const H=await v.getStakerRewardsLength();let K=[];for(let A=0;A<H;A++){const C=await v.stakerRewards(A);K.push(C)}n(er(K));const ee=await v.getRewardTokenInfo(Nn),R=await v.getRewardTokenInfo(zn);n(tr(ee[0])),n(rr(R[0])),n(nr(parseFloat(he(ee[1]))*60)),n(or(parseFloat(he(R[1]))*60))}catch(f){console.log("Err: ",f)}};(async()=>{(e||t==!1||r==!1)&&await a()})()},[e,t,r]),T(cr,{children:[d(lr,{address:e,current:"advertiser",onDisconnect:o}),d(Pn,{}),T("div",{className:"flex gap-12",children:[d("div",{className:"flex-[2_1_0%]",children:d(_n,{})}),d("div",{className:"flex-[3_1_0%]",children:d(Rn,{})})]})]})};export{Kn as Advertiser};
